2024-09-15 10:19:37.499 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 10:19:37.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 10:19:37.797 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 10:19:37.800 +02:00 [INF] Hosting environment: Development
2024-09-15 10:19:37.801 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 10:19:38.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 754.6662ms
2024-09-15 10:19:38.563 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui-standalone-preset.js - null null
2024-09-15 10:19:38.568 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 10:19:38.568 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 10:19:38.568 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui-bundle.js - null null
2024-09-15 10:19:38.569 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 10:19:38.583 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 15.2977ms
2024-09-15 10:19:38.585 +02:00 [INF] The file /swagger-ui-bundle.js was not modified
2024-09-15 10:19:38.585 +02:00 [INF] The file /swagger-ui.css was not modified
2024-09-15 10:19:38.585 +02:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2024-09-15 10:19:38.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 27.3267ms
2024-09-15 10:19:38.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 304 null text/css 27.3269ms
2024-09-15 10:19:38.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui-bundle.js - 304 null text/javascript 22.5411ms
2024-09-15 10:19:38.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.8711ms
2024-09-15 10:19:38.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 10:19:38.919 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.734ms
2024-09-15 10:20:03.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api - null null
2024-09-15 10:20:03.245 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.RootController.GetRoot (Eshop.Api)'
2024-09-15 10:20:03.263 +02:00 [INF] Route matched with {action = "GetRoot", controller = "Root"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoot() on controller Eshop.Api.Controllers.RootController (Eshop.Api).
2024-09-15 10:20:03.278 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.Links.Link, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 10:20:03.393 +02:00 [INF] Executed action Eshop.Api.Controllers.RootController.GetRoot (Eshop.Api) in 125.3597ms
2024-09-15 10:20:03.393 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.RootController.GetRoot (Eshop.Api)'
2024-09-15 10:20:03.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api - 200 340 application/json; charset=utf-8 206.3503ms
2024-09-15 10:23:29.058 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 10:23:29.214 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 10:23:29.262 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 10:23:29.265 +02:00 [INF] Hosting environment: Development
2024-09-15 10:23:29.268 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 10:23:29.420 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 211.1357ms
2024-09-15 10:23:29.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 10:23:29.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 10:23:29.501 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 4.2953ms
2024-09-15 10:23:29.538 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.9935ms
2024-09-15 10:23:29.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 10:23:29.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.5971ms
2024-09-15 10:23:35.557 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api - null null
2024-09-15 10:23:35.600 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.RootController.GetRoot (Eshop.Api)'
2024-09-15 10:23:35.613 +02:00 [INF] Route matched with {action = "GetRoot", controller = "Root"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoot() on controller Eshop.Api.Controllers.RootController (Eshop.Api).
2024-09-15 10:23:35.624 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.Links.Link, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 10:23:35.715 +02:00 [INF] Executed action Eshop.Api.Controllers.RootController.GetRoot (Eshop.Api) in 98.3187ms
2024-09-15 10:23:35.715 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.RootController.GetRoot (Eshop.Api)'
2024-09-15 10:23:35.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api - 200 646 application/json; charset=utf-8 159.3977ms
2024-09-15 10:24:22.903 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 10:24:23.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 10:24:23.118 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 10:24:23.124 +02:00 [INF] Hosting environment: Development
2024-09-15 10:24:23.126 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 10:24:23.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 171.9446ms
2024-09-15 10:24:23.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 10:24:23.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 10:24:23.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 5.0718ms
2024-09-15 10:24:23.344 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.6585ms
2024-09-15 10:24:23.404 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 10:24:23.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.2902ms
2024-09-15 10:24:58.285 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------895928431863252312531879 10840
2024-09-15 10:24:58.387 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 8:24:58 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-15 10:24:58.432 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 8:24:58 AM'.
2024-09-15 10:24:58.435 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-15 10:24:58.438 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-15 10:24:58.440 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 401 null null 154.8739ms
2024-09-15 10:25:39.507 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Auth/Logiin - multipart/form-data; boundary=--------------------------590596212878323770286669 289
2024-09-15 10:25:39.512 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 8:25:39 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-15 10:25:39.513 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 8:25:39 AM'.
2024-09-15 10:25:39.514 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Auth/Logiin - 404 null null 6.6954ms
2024-09-15 10:25:39.515 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:44369/api/Auth/Logiin, Response status code: 404
2024-09-15 10:25:45.498 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Auth/Login - multipart/form-data; boundary=--------------------------120400060197665390006404 289
2024-09-15 10:25:45.500 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 8:25:45 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-15 10:25:45.501 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 8:25:45 AM'.
2024-09-15 10:25:45.502 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.AuthController.Login (Eshop.Api)'
2024-09-15 10:25:45.528 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Eshop.Models.TokenRequestModel) on controller Eshop.Api.Controllers.AuthController (Eshop.Api).
2024-09-15 10:25:46.376 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 10:25:46.379 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 10:25:46.382 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 10:25:46.385 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 10:25:48.381 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 10:25:48.613 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-15 10:25:48.639 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-15 10:25:48.653 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-15 10:25:48.665 +02:00 [INF] user [ taha@gmail.com ] login to the system
2024-09-15 10:25:48.669 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-15 10:25:48.758 +02:00 [INF] Executed action Eshop.Api.Controllers.AuthController.Login (Eshop.Api) in 3226.3016ms
2024-09-15 10:25:48.759 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.AuthController.Login (Eshop.Api)'
2024-09-15 10:25:48.765 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Auth/Login - 200 388 application/json; charset=utf-8 3267.0159ms
2024-09-15 10:26:06.803 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------862175998391505032990838 10840
2024-09-15 10:26:06.814 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:26:06.821 +02:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Eshop.Models.DTOModels.ProductPostDTO) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:26:07.100 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoryId], [Description], [ImageUrl], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-09-15 10:26:07.121 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Eshop.Models.DTOModels.ProductDTO'.
2024-09-15 10:26:07.143 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api) in 322.4181ms
2024-09-15 10:26:07.144 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:26:07.145 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 201 128 application/json; charset=utf-8 342.2318ms
2024-09-15 10:26:40.517 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------048885694851633803272877 8123
2024-09-15 10:26:40.518 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:26:40.519 +02:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Eshop.Models.DTOModels.ProductPostDTO) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:26:40.867 +02:00 [INF] Executed DbCommand (270ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoryId], [Description], [ImageUrl], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-09-15 10:26:40.869 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Eshop.Models.DTOModels.ProductDTO'.
2024-09-15 10:26:40.870 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api) in 351.1566ms
2024-09-15 10:26:40.870 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:26:40.870 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 201 143 application/json; charset=utf-8 353.6145ms
2024-09-15 10:27:14.122 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------174599556017352657334254 11180
2024-09-15 10:27:14.123 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:27:14.123 +02:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Eshop.Models.DTOModels.ProductPostDTO) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:27:14.147 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoryId], [Description], [ImageUrl], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-09-15 10:27:14.148 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Eshop.Models.DTOModels.ProductDTO'.
2024-09-15 10:27:14.149 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api) in 25.3679ms
2024-09-15 10:27:14.149 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:27:14.149 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 201 143 application/json; charset=utf-8 27.2364ms
2024-09-15 10:27:36.617 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------281990870586809559077590 5582
2024-09-15 10:27:36.674 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:27:36.674 +02:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Eshop.Models.DTOModels.ProductPostDTO) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:27:36.695 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoryId], [Description], [ImageUrl], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-09-15 10:27:36.696 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Eshop.Models.DTOModels.ProductDTO'.
2024-09-15 10:27:36.697 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api) in 22.7462ms
2024-09-15 10:27:36.697 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:27:36.698 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 201 135 application/json; charset=utf-8 81.2241ms
2024-09-15 10:28:14.769 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------509271596887414425665335 11646
2024-09-15 10:28:14.770 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:28:14.770 +02:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Eshop.Models.DTOModels.ProductPostDTO) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:28:14.792 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoryId], [Description], [ImageUrl], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-09-15 10:28:14.792 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Eshop.Models.DTOModels.ProductDTO'.
2024-09-15 10:28:14.793 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api) in 22.8866ms
2024-09-15 10:28:14.793 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:28:14.793 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 201 135 application/json; charset=utf-8 24.4624ms
2024-09-15 10:28:54.729 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------489342524513171693566383 21994
2024-09-15 10:28:54.729 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:28:54.730 +02:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Eshop.Models.DTOModels.ProductPostDTO) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:28:54.749 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoryId], [Description], [ImageUrl], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-09-15 10:28:54.749 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Eshop.Models.DTOModels.ProductDTO'.
2024-09-15 10:28:54.750 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api) in 20.3098ms
2024-09-15 10:28:54.750 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:28:54.750 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 201 149 application/json; charset=utf-8 21.4266ms
2024-09-15 10:29:13.712 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - multipart/form-data; boundary=--------------------------774491414632601144646995 11911
2024-09-15 10:29:13.712 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:29:13.712 +02:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Eshop.Models.DTOModels.ProductPostDTO) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:29:13.727 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoryId], [Description], [ImageUrl], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-09-15 10:29:13.728 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Eshop.Models.DTOModels.ProductDTO'.
2024-09-15 10:29:13.729 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api) in 16.5161ms
2024-09-15 10:29:13.729 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.CreateProduct (Eshop.Api)'
2024-09-15 10:29:13.729 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Product/CreateProduct - 201 142 application/json; charset=utf-8 17.4825ms
2024-09-15 10:29:27.015 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Product/Products - multipart/form-data; boundary=--------------------------878176695853809953357407 11911
2024-09-15 10:29:27.016 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.GetAllProducts (Eshop.Api)'
2024-09-15 10:29:27.018 +02:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Eshop.DataAccess.Services.Requests.RequestParameter) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 10:29:27.046 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2024-09-15 10:29:27.054 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2024-09-15 10:29:27.068 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.ProductDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 10:29:27.070 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.GetAllProducts (Eshop.Api) in 51.5649ms
2024-09-15 10:29:27.070 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.GetAllProducts (Eshop.Api)'
2024-09-15 10:29:27.070 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Product/Products - 200 4883 application/json; charset=utf-8 55.2834ms
2024-09-15 11:06:10.369 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:06:10.552 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:06:10.552 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:06:10.635 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:06:10.641 +02:00 [INF] Hosting environment: Development
2024-09-15 11:06:10.644 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:06:10.703 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 154.9762ms
2024-09-15 11:06:10.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 210.0469ms
2024-09-15 11:06:10.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:06:10.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:06:10.813 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:06:10.813 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 14.7277ms
2024-09-15 11:06:10.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:06:10.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 5.6264ms
2024-09-15 11:06:10.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.6842ms
2024-09-15 11:06:10.931 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:06:10.932 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:06:10.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 1.3989ms
2024-09-15 11:06:10.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:06:11.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.5557ms
2024-09-15 11:07:27.335 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:07:27.535 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:07:27.602 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:07:27.605 +02:00 [INF] Hosting environment: Development
2024-09-15 11:07:27.607 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:07:27.719 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 191.6375ms
2024-09-15 11:07:27.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:07:27.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:07:27.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:07:27.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 7.3177ms
2024-09-15 11:07:27.815 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:07:27.815 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 34.4935ms
2024-09-15 11:07:27.837 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.3871ms
2024-09-15 11:07:27.917 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:07:27.920 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:07:27.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 2.6539ms
2024-09-15 11:07:27.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:07:28.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.1682ms
2024-09-15 11:07:56.303 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Auth/Login - multipart/form-data; boundary=--------------------------576329438443009078045663 289
2024-09-15 11:07:56.390 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 9:07:56 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-15 11:07:56.417 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 9:07:56 AM'.
2024-09-15 11:07:56.421 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.AuthController.Login (Eshop.Api)'
2024-09-15 11:07:56.438 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Eshop.Models.TokenRequestModel) on controller Eshop.Api.Controllers.AuthController (Eshop.Api).
2024-09-15 11:07:57.042 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:07:57.045 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:07:57.048 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:07:57.050 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:07:57.668 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 11:07:57.863 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-15 11:07:57.885 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-15 11:07:57.896 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-15 11:07:57.922 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 11:07:58.059 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [Phone] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
INSERT INTO [RefreshToken] ([ApplicationUserId], [CreatedAt], [ExpireOn], [RevokedOn], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p19, @p20, @p21, @p22, @p23);
2024-09-15 11:07:58.087 +02:00 [INF] user [ cust@gmail.com ] login to the system
2024-09-15 11:07:58.092 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-15 11:07:58.160 +02:00 [INF] Executed action Eshop.Api.Controllers.AuthController.Login (Eshop.Api) in 1718.2986ms
2024-09-15 11:07:58.160 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.AuthController.Login (Eshop.Api)'
2024-09-15 11:07:58.167 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Auth/Login - 200 390 application/json; charset=utf-8 1863.3675ms
2024-09-15 11:08:56.489 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Auth/Login - multipart/form-data; boundary=---------------------------209222551218237259983251169664 310
2024-09-15 11:08:56.495 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:08:56.496 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.AuthController.Login (Eshop.Api)'
2024-09-15 11:08:56.496 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Eshop.Models.TokenRequestModel) on controller Eshop.Api.Controllers.AuthController (Eshop.Api).
2024-09-15 11:08:56.555 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 11:08:56.625 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-15 11:08:56.629 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-15 11:08:56.633 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-15 11:08:56.636 +02:00 [INF] user [ taha@gmail.com ] login to the system
2024-09-15 11:08:56.636 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-15 11:08:56.637 +02:00 [INF] Executed action Eshop.Api.Controllers.AuthController.Login (Eshop.Api) in 141.4333ms
2024-09-15 11:08:56.637 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.AuthController.Login (Eshop.Api)'
2024-09-15 11:08:56.638 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Auth/Login - 200 388 application/json; charset=utf-8 148.6384ms
2024-09-15 11:09:11.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Product/Products - null null
2024-09-15 11:09:11.336 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.ProductController.GetAllProducts (Eshop.Api)'
2024-09-15 11:09:11.340 +02:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Eshop.DataAccess.Services.Requests.RequestParameter) on controller Eshop.Api.Controllers.ProductController (Eshop.Api).
2024-09-15 11:09:11.459 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2024-09-15 11:09:11.468 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2024-09-15 11:09:11.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.ProductDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:09:11.502 +02:00 [INF] Executed action Eshop.Api.Controllers.ProductController.GetAllProducts (Eshop.Api) in 162.0335ms
2024-09-15 11:09:11.502 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.ProductController.GetAllProducts (Eshop.Api)'
2024-09-15 11:09:11.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Product/Products - 200 4883 application/json; charset=utf-8 185.2206ms
2024-09-15 11:09:42.417 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Cart/AddToCart - application/json 53
2024-09-15 11:09:42.423 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 9:09:42 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-15 11:09:42.423 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/14/2024 6:41:05 PM', Current time (UTC): '9/15/2024 9:09:42 AM'.
2024-09-15 11:09:42.427 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-15 11:09:42.431 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-15 11:09:42.432 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Cart/AddToCart - 401 null null 14.7295ms
2024-09-15 11:09:49.639 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Cart/AddToCart - application/json 53
2024-09-15 11:09:49.642 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:09:49.646 +02:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:09:49.713 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__8__locals1_dto_cart_Id_0='?' (DbType = Int32), @__userId_1='?' (Size = 450), @__8__locals1_dto_cart_ProductId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Count], [t].[ProductId], [t].[UserId], [t].[Id0], [t].[CategoryId], [t].[Description], [t].[ImageUrl], [t].[Name], [t].[Price], [t].[Id1], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id] AS [Id1], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Carts] AS [c]
    INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
    INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
    WHERE [c].[Id] = @__8__locals1_dto_cart_Id_0 AND [c].[UserId] = @__userId_1 AND [c].[ProductId] = @__8__locals1_dto_cart_ProductId_2
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id1] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [r].[ApplicationUserId]
2024-09-15 11:09:49.751 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([Count], [ProductId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-09-15 11:09:49.757 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:09:49.757 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api) in 111.4561ms
2024-09-15 11:09:49.758 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:09:49.758 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Cart/AddToCart - 200 null text/plain; charset=utf-8 118.6408ms
2024-09-15 11:09:58.462 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Cart/AddToCart - application/json 53
2024-09-15 11:09:58.463 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:09:58.463 +02:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:09:58.469 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_dto_cart_Id_0='?' (DbType = Int32), @__userId_1='?' (Size = 450), @__8__locals1_dto_cart_ProductId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Count], [t].[ProductId], [t].[UserId], [t].[Id0], [t].[CategoryId], [t].[Description], [t].[ImageUrl], [t].[Name], [t].[Price], [t].[Id1], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id] AS [Id1], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Carts] AS [c]
    INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
    INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
    WHERE [c].[Id] = @__8__locals1_dto_cart_Id_0 AND [c].[UserId] = @__userId_1 AND [c].[ProductId] = @__8__locals1_dto_cart_ProductId_2
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id1] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [r].[ApplicationUserId]
2024-09-15 11:09:58.477 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([Count], [ProductId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-09-15 11:09:58.478 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:09:58.478 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api) in 15.2947ms
2024-09-15 11:09:58.478 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:09:58.479 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Cart/AddToCart - 200 null text/plain; charset=utf-8 16.7304ms
2024-09-15 11:10:34.511 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:10:34.511 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:10:34.513 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:10:34.532 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:10:34.536 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:10:34.539 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 25.0319ms
2024-09-15 11:10:34.539 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:10:34.539 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 217 application/json; charset=utf-8 28.584ms
2024-09-15 11:10:55.640 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44369/api/Cart/DeleteCartItem/18 - application/json 53
2024-09-15 11:10:55.643 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.DeleteCartItem (Eshop.Api)'
2024-09-15 11:10:55.646 +02:00 [INF] Route matched with {action = "DeleteCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartItem(Int32) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:10:55.659 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:10:55.671 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Carts]
OUTPUT 1
WHERE [Id] = @p0;
2024-09-15 11:10:55.674 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:10:55.675 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.DeleteCartItem (Eshop.Api) in 29.0211ms
2024-09-15 11:10:55.675 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.DeleteCartItem (Eshop.Api)'
2024-09-15 11:10:55.675 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:44369/api/Cart/DeleteCartItem/18 - 200 null text/plain; charset=utf-8 35.6936ms
2024-09-15 11:11:43.016 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:11:43.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 14.1765ms
2024-09-15 11:11:43.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:11:43.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:11:43.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 10.1902ms
2024-09-15 11:11:43.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.9775ms
2024-09-15 11:11:43.244 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:11:43.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.1141ms
2024-09-15 11:11:50.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:11:50.694 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 9.2442ms
2024-09-15 11:11:50.727 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:11:50.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:11:50.731 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 2.8587ms
2024-09-15 11:11:50.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.88ms
2024-09-15 11:11:50.881 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:11:50.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.2144ms
2024-09-15 11:20:16.823 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:20:16.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:20:16.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:20:17.069 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:20:17.074 +02:00 [INF] Hosting environment: Development
2024-09-15 11:20:17.080 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:20:17.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 185.3622ms
2024-09-15 11:20:17.210 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 236.4014ms
2024-09-15 11:20:17.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:20:17.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:20:17.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:20:17.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 3.8643ms
2024-09-15 11:20:17.295 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:20:17.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 22.8625ms
2024-09-15 11:20:17.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.644ms
2024-09-15 11:20:17.467 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:20:17.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.6037ms
2024-09-15 11:20:32.948 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:20:33.042 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:20:33.056 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:20:33.752 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:20:33.756 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:20:33.758 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:20:33.761 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:20:34.366 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:20:34.408 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:20:34.487 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 1427.592ms
2024-09-15 11:20:34.487 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:20:34.493 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 1544.6223ms
2024-09-15 11:21:22.826 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:21:22.835 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:21:22.845 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:21:22.977 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:21:23.017 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 171.6006ms
2024-09-15 11:21:23.018 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:21:23.050 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Eshop.DataAccess.Services.Middleware.NotFoundException: Cart [17] not found
   at Eshop.Api.Controllers.CartController.UpdateCartItem(Int32 Id, CartPostDTO dto_cart) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Controllers\CartController.cs:line 123
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:21:23.058 +02:00 [ERR] Exception occured {Error Happend in this action method
}
Eshop.DataAccess.Services.Middleware.NotFoundException: Cart [17] not found
   at Eshop.Api.Controllers.CartController.UpdateCartItem(Int32 Id, CartPostDTO dto_cart) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Controllers\CartController.cs:line 123
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:21:23.067 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - 404 null application/json 240.9363ms
2024-09-15 11:21:31.437 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:21:31.441 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:21:31.442 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:21:31.493 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:21:31.495 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:21:31.496 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 53.8788ms
2024-09-15 11:21:31.496 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:21:31.496 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 58.918ms
2024-09-15 11:22:00.885 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:22:00.886 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:22:00.886 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:22:00.902 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:22:00.920 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 33.2457ms
2024-09-15 11:22:00.920 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:22:00.925 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Eshop.DataAccess.Services.Middleware.NotFoundException: Cart [17] not found
   at Eshop.Api.Controllers.CartController.UpdateCartItem(Int32 Id, CartPostDTO dto_cart) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Controllers\CartController.cs:line 123
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:22:00.928 +02:00 [ERR] Exception occured {Error Happend in this action method
}
Eshop.DataAccess.Services.Middleware.NotFoundException: Cart [17] not found
   at Eshop.Api.Controllers.CartController.UpdateCartItem(Int32 Id, CartPostDTO dto_cart) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Controllers\CartController.cs:line 123
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:22:00.930 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - 404 null application/json 44.3649ms
2024-09-15 11:22:45.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:22:45.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 15.9256ms
2024-09-15 11:22:45.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:22:45.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:22:45.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 2.0847ms
2024-09-15 11:22:45.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.2181ms
2024-09-15 11:22:45.600 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:22:45.634 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.0751ms
2024-09-15 11:22:54.585 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:22:54.586 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:22:54.589 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:22:54.600 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:22:54.627 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 37.3239ms
2024-09-15 11:22:54.627 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:22:54.631 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Eshop.DataAccess.Services.Middleware.NotFoundException: Cart [17] not found
   at Eshop.Api.Controllers.CartController.UpdateCartItem(Int32 Id, CartPostDTO dto_cart)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:22:54.635 +02:00 [ERR] Exception occured {Error Happend in this action method
}
Eshop.DataAccess.Services.Middleware.NotFoundException: Cart [17] not found
   at Eshop.Api.Controllers.CartController.UpdateCartItem(Int32 Id, CartPostDTO dto_cart)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:22:54.637 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - 404 null application/json 52.3532ms
2024-09-15 11:23:14.110 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:23:14.112 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:23:14.112 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:23:29.883 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[SupplierId]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:24:16.895 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:24:17.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:24:17.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:24:17.196 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:24:17.202 +02:00 [INF] Hosting environment: Development
2024-09-15 11:24:17.204 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:24:17.262 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 201.6041ms
2024-09-15 11:24:17.321 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 260.9351ms
2024-09-15 11:24:17.395 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:24:17.396 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:24:17.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:24:17.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 8.0406ms
2024-09-15 11:24:17.427 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:24:17.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 31.036ms
2024-09-15 11:24:17.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.7039ms
2024-09-15 11:24:17.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:24:17.513 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:24:17.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 1.4692ms
2024-09-15 11:24:17.584 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:24:17.761 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.6345ms
2024-09-15 11:26:32.867 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:26:33.072 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:26:33.072 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:26:33.139 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:26:33.147 +02:00 [INF] Hosting environment: Development
2024-09-15 11:26:33.149 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:26:33.222 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 155.0239ms
2024-09-15 11:26:33.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 216.3814ms
2024-09-15 11:26:33.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:26:33.422 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:26:33.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 17.538ms
2024-09-15 11:26:33.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.5406ms
2024-09-15 11:26:33.494 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:26:33.503 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:26:33.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 9.9257ms
2024-09-15 11:26:33.534 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:26:33.684 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.7389ms
2024-09-15 11:26:40.238 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:26:40.469 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:26:40.516 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:27:26.041 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:27:26.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:27:26.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:27:26.374 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:27:26.378 +02:00 [INF] Hosting environment: Development
2024-09-15 11:27:26.380 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:27:26.448 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 165.2561ms
2024-09-15 11:27:26.511 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 229.4229ms
2024-09-15 11:27:26.581 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:27:26.584 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:27:26.585 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:27:26.601 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 16.0362ms
2024-09-15 11:27:26.602 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:27:26.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 21.3299ms
2024-09-15 11:27:26.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.1002ms
2024-09-15 11:27:26.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:27:26.739 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:27:26.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 2.4152ms
2024-09-15 11:27:26.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:27:26.967 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.6282ms
2024-09-15 11:27:31.432 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:27:31.678 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:27:31.710 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:27:44.781 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:27:44.784 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:27:44.787 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:27:44.789 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:27:46.719 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:28:25.368 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:28:25.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:28:25.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:28:25.682 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:28:25.685 +02:00 [INF] Hosting environment: Development
2024-09-15 11:28:25.688 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:28:25.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 166.4922ms
2024-09-15 11:28:25.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 225.6834ms
2024-09-15 11:28:25.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:28:25.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:28:25.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:28:25.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 7.0264ms
2024-09-15 11:28:25.939 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:28:25.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 19.2532ms
2024-09-15 11:28:25.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.5956ms
2024-09-15 11:28:26.028 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:28:26.030 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:28:26.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 1.6682ms
2024-09-15 11:28:26.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:28:26.185 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 148.0468ms
2024-09-15 11:28:28.491 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:28:28.606 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:28:28.621 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:28:41.497 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:28:41.499 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:28:41.501 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:28:41.503 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:28:42.878 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:28:54.550 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([Count], [ProductId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-09-15 11:28:54.600 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'eshop.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_AspNetUsers_UserId". The conflict occurred in database "Eshop2", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5df43426-b0bc-4f22-a48b-e663ec232a3b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_AspNetUsers_UserId". The conflict occurred in database "Eshop2", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5df43426-b0bc-4f22-a48b-e663ec232a3b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 11:28:54.815 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 26189.6703ms
2024-09-15 11:28:54.816 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:28:54.845 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_AspNetUsers_UserId". The conflict occurred in database "Eshop2", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5df43426-b0bc-4f22-a48b-e663ec232a3b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at eshop.DataAccess.Services.UnitOfWork.UnitOfWork.CommitAsync() in C:\Users\HP\source\repos\Eshop\Eshop.DataAccess\Services\UnitOfWork\UnitOfWork.cs:line 47
   at Eshop.Api.Controllers.CartController.UpdateCartItem(Int32 Id, CartPostDTO dto_cart) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Controllers\CartController.cs:line 127
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:30:19.157 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:30:19.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:30:19.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:30:19.439 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:30:19.442 +02:00 [INF] Hosting environment: Development
2024-09-15 11:30:19.444 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:30:19.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 160.9994ms
2024-09-15 11:30:19.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 217.0149ms
2024-09-15 11:30:19.623 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:30:19.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 5.4355ms
2024-09-15 11:30:19.629 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:30:19.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.2363ms
2024-09-15 11:30:19.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:30:19.730 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:30:19.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 12.2286ms
2024-09-15 11:30:19.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:30:19.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.1443ms
2024-09-15 11:30:31.303 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:30:31.410 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:30:31.436 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:30:32.402 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:30:32.406 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:30:32.409 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:30:32.411 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:30:33.428 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:30:33.590 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__cart_Id_0
2024-09-15 11:30:33.632 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:30:33.638 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 2197.0866ms
2024-09-15 11:30:33.639 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:30:33.648 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - 200 null text/plain; charset=utf-8 2344.2797ms
2024-09-15 11:30:49.478 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:30:49.488 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:30:49.496 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:30:49.692 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:30:49.726 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:30:49.797 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 300.9963ms
2024-09-15 11:30:49.797 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:30:49.798 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 319.7594ms
2024-09-15 11:31:34.617 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json-patch+json 47
2024-09-15 11:31:34.627 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:31:34.629 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:31:34.629 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:31:34.778 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:31:34.791 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__cart_Id_0
2024-09-15 11:31:34.793 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:31:34.796 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 166.5387ms
2024-09-15 11:31:34.796 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:31:34.796 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - 200 null text/plain; charset=utf-8 179.2825ms
2024-09-15 11:31:43.225 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Cart/Carts - null null
2024-09-15 11:31:43.227 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:31:43.227 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:31:43.240 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:31:43.241 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:31:43.242 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 14.4599ms
2024-09-15 11:31:43.242 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:31:43.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 17.1798ms
2024-09-15 11:31:58.210 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json-patch+json 47
2024-09-15 11:31:58.211 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:31:58.211 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:31:58.212 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:31:58.231 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:31:58.242 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__cart_Id_0
2024-09-15 11:31:58.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:31:58.245 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 32.9203ms
2024-09-15 11:31:58.245 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:31:58.245 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - 200 null text/plain; charset=utf-8 35.6479ms
2024-09-15 11:32:03.595 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Cart/Carts - null null
2024-09-15 11:32:03.596 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:32:03.596 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:32:03.610 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:32:03.613 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:32:03.616 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 19.7523ms
2024-09-15 11:32:03.616 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:32:03.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 21.5692ms
2024-09-15 11:32:13.730 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:32:13.731 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-09-15 11:32:13.731 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-09-15 11:32:13.733 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44369/api/Cart/Carts - 405 null null 2.4092ms
2024-09-15 11:32:20.949 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - application/json 53
2024-09-15 11:32:20.950 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:32:20.950 +02:00 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:32:20.960 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:32:20.970 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__cart_Id_0
2024-09-15 11:32:20.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:32:20.972 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api) in 21.5769ms
2024-09-15 11:32:20.972 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartItem (Eshop.Api)'
2024-09-15 11:32:20.972 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44369/api/Cart/UpdateCartItem/17 - 200 null text/plain; charset=utf-8 24.296ms
2024-09-15 11:34:24.763 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:34:24.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:34:24.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:34:25.051 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:34:25.056 +02:00 [INF] Hosting environment: Development
2024-09-15 11:34:25.058 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:34:25.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 161.2155ms
2024-09-15 11:34:25.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 260.09ms
2024-09-15 11:34:25.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:34:25.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:34:25.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:34:25.305 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:34:25.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 27.7151ms
2024-09-15 11:34:25.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 7.391ms
2024-09-15 11:34:25.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.4222ms
2024-09-15 11:34:25.441 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:34:25.444 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:34:25.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 3.4099ms
2024-09-15 11:34:25.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:34:25.669 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.2292ms
2024-09-15 11:34:46.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Cart/Carts - null null
2024-09-15 11:34:46.417 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:34:46.457 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:34:48.397 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:34:48.404 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:34:48.410 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:34:48.415 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:34:49.982 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:34:50.089 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:34:50.293 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 3830.7651ms
2024-09-15 11:34:50.294 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:34:50.304 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 4145.6391ms
2024-09-15 11:35:10.961 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - application/json-patch+json 45
2024-09-15 11:35:10.986 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:35:10.988 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:35:11.006 +02:00 [INF] Route matched with {action = "UpdateCartQuantity", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartQuantity(Int32, Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:35:11.201 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-15 11:35:11.205 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api) in 198.3462ms
2024-09-15 11:35:11.205 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:35:11.206 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - 400 null text/plain; charset=utf-8 245.2464ms
2024-09-15 11:35:24.438 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - application/json-patch+json 46
2024-09-15 11:35:24.447 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:35:24.447 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:35:24.448 +02:00 [INF] Route matched with {action = "UpdateCartQuantity", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartQuantity(Int32, Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:35:24.621 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__Id_0='?' (DbType = Int32), @__ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__Id_0 AND [c].[ProductId] = @__ProductId_1
2024-09-15 11:35:24.651 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:35:24.653 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api) in 204.4313ms
2024-09-15 11:35:24.653 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:35:24.653 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - 200 null text/plain; charset=utf-8 215.4691ms
2024-09-15 11:35:35.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Cart/Carts - null null
2024-09-15 11:35:35.883 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:35:35.883 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:35:35.995 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:35:35.997 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:35:35.998 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 115.1263ms
2024-09-15 11:35:35.999 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:35:35.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 117.4786ms
2024-09-15 11:36:02.482 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - application/json-patch+json 46
2024-09-15 11:36:02.482 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:36:02.482 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:36:02.483 +02:00 [INF] Route matched with {action = "UpdateCartQuantity", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartQuantity(Int32, Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:36:15.521 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Int32), @__ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__Id_0 AND [c].[ProductId] = @__ProductId_1
2024-09-15 11:37:04.440 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:37:04.441 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api) in 61958.1312ms
2024-09-15 11:37:04.441 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:37:06.193 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - 200 null text/plain; charset=utf-8 63711.8403ms
2024-09-15 11:37:20.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Cart/Carts - null null
2024-09-15 11:37:20.220 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:37:20.225 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:37:49.144 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:37:54.164 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:37:54.186 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 33958.914ms
2024-09-15 11:37:54.186 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:37:54.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 33967.7088ms
2024-09-15 11:39:28.906 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:39:29.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:39:29.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:39:29.476 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:39:29.482 +02:00 [INF] Hosting environment: Development
2024-09-15 11:39:29.486 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:39:29.641 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 360.5921ms
2024-09-15 11:39:29.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 615.7185ms
2024-09-15 11:39:29.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:39:29.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:39:29.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:39:29.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 6.1529ms
2024-09-15 11:39:29.976 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:39:29.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 17.3177ms
2024-09-15 11:39:30.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.4244ms
2024-09-15 11:39:30.060 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:39:30.061 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:39:30.061 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 1.6211ms
2024-09-15 11:39:30.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:39:30.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 281.7763ms
2024-09-15 11:39:32.752 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:39:32.996 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:39:33.035 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:39:35.101 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:39:35.108 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:39:35.116 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:39:35.124 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:39:36.765 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:39:36.868 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:39:37.087 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 4045.2356ms
2024-09-15 11:39:37.088 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:39:37.099 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 4346.3301ms
2024-09-15 11:40:06.561 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - application/json-patch+json 46
2024-09-15 11:40:06.587 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:40:06.589 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:40:06.606 +02:00 [INF] Route matched with {action = "UpdateCartQuantity", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartQuantity(Int32, Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:40:17.425 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__Id_0='?' (DbType = Int32), @__ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__Id_0 AND [c].[ProductId] = @__ProductId_1
2024-09-15 11:40:24.529 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Carts] SET [Count] = @p0, [ProductId] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-09-15 11:40:26.833 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:40:26.834 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api) in 20227.9897ms
2024-09-15 11:40:26.834 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.UpdateCartQuantity (Eshop.Api)'
2024-09-15 11:40:28.607 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44369/api/Cart/UpdateCartQuantity/17/13 - 200 null text/plain; charset=utf-8 22046.3817ms
2024-09-15 11:40:50.672 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:40:50.679 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:40:50.680 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:40:50.841 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:40:50.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:40:50.846 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 166.5465ms
2024-09-15 11:40:50.846 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:40:50.847 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 175.3768ms
2024-09-15 11:42:24.294 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:42:24.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:42:24.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:42:24.601 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:42:24.604 +02:00 [INF] Hosting environment: Development
2024-09-15 11:42:24.606 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:42:24.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 170.3609ms
2024-09-15 11:42:24.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 222.735ms
2024-09-15 11:42:24.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:42:24.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:42:24.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:42:24.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 7.5189ms
2024-09-15 11:42:24.837 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:42:24.837 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 30.5025ms
2024-09-15 11:42:24.858 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0705ms
2024-09-15 11:42:24.883 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:42:24.884 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:42:24.885 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 1.5154ms
2024-09-15 11:42:24.927 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:42:25.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.942ms
2024-09-15 11:42:35.417 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Cart/Carts - null null
2024-09-15 11:42:35.671 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:42:35.701 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:42:37.664 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:42:37.671 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:42:37.677 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:42:37.684 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:42:39.167 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:42:39.267 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:42:39.502 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 3791.5647ms
2024-09-15 11:42:39.504 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:42:39.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Cart/Carts - 200 111 application/json; charset=utf-8 4103.3396ms
2024-09-15 11:43:16.164 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Cart/AddToCart - application/json-patch+json 46
2024-09-15 11:43:16.199 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:43:16.201 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:43:16.221 +02:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:43:16.650 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_dto_cart_Id_0='?' (DbType = Int32), @__userId_1='?' (Size = 450), @__8__locals1_dto_cart_ProductId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Count], [t].[ProductId], [t].[UserId], [t].[Id0], [t].[CategoryId], [t].[Description], [t].[ImageUrl], [t].[Name], [t].[Price], [t].[Id1], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id] AS [Id1], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Carts] AS [c]
    INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
    INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
    WHERE [c].[Id] = @__8__locals1_dto_cart_Id_0 AND [c].[UserId] = @__userId_1 AND [c].[ProductId] = @__8__locals1_dto_cart_ProductId_2
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id1] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [r].[ApplicationUserId]
2024-09-15 11:43:17.012 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([Count], [ProductId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-09-15 11:43:17.067 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:43:17.070 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api) in 848.5972ms
2024-09-15 11:43:17.070 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:43:17.070 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Cart/AddToCart - 200 null text/plain; charset=utf-8 906.7109ms
2024-09-15 11:43:28.324 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Cart/AddToCart - application/json-patch+json 46
2024-09-15 11:43:28.330 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:43:28.330 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:43:28.331 +02:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:43:28.461 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_dto_cart_Id_0='?' (DbType = Int32), @__userId_1='?' (Size = 450), @__8__locals1_dto_cart_ProductId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Count], [t].[ProductId], [t].[UserId], [t].[Id0], [t].[CategoryId], [t].[Description], [t].[ImageUrl], [t].[Name], [t].[Price], [t].[Id1], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id] AS [Id1], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Carts] AS [c]
    INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
    INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
    WHERE [c].[Id] = @__8__locals1_dto_cart_Id_0 AND [c].[UserId] = @__userId_1 AND [c].[ProductId] = @__8__locals1_dto_cart_ProductId_2
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id1] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [r].[ApplicationUserId]
2024-09-15 11:43:28.472 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([Count], [ProductId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-09-15 11:43:28.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:43:28.474 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api) in 143.2402ms
2024-09-15 11:43:28.474 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.AddToCart (Eshop.Api)'
2024-09-15 11:43:28.474 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Cart/AddToCart - 200 null text/plain; charset=utf-8 150.5266ms
2024-09-15 11:43:33.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Cart/Carts - null null
2024-09-15 11:43:33.633 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:43:33.634 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:43:33.644 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:43:33.648 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:43:33.650 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 16.1392ms
2024-09-15 11:43:33.650 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:43:33.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Cart/Carts - 200 324 application/json; charset=utf-8 18.2864ms
2024-09-15 11:43:41.530 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:44369/api/Cart/DeleteCartItem/21 - null null
2024-09-15 11:43:41.531 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:43:41.531 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.DeleteCartItem (Eshop.Api)'
2024-09-15 11:43:41.539 +02:00 [INF] Route matched with {action = "DeleteCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartItem(Int32) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:43:41.564 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-15 11:43:41.593 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Carts]
OUTPUT 1
WHERE [Id] = @p0;
2024-09-15 11:43:41.601 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:43:41.602 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.DeleteCartItem (Eshop.Api) in 63.214ms
2024-09-15 11:43:41.602 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.DeleteCartItem (Eshop.Api)'
2024-09-15 11:43:41.603 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:44369/api/Cart/DeleteCartItem/21 - 200 null text/plain; charset=utf-8 72.3497ms
2024-09-15 11:44:02.269 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:44:02.270 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:44:02.270 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:44:02.305 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:44:02.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:44:02.308 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 37.9575ms
2024-09-15 11:44:02.308 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:44:02.309 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 217 application/json; charset=utf-8 39.9839ms
2024-09-15 11:44:33.151 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44369/api/Cart/DecreaseCartQuantity/1/2 - application/json-patch+json 45
2024-09-15 11:44:33.152 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:44:33.152 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.DecreaseCartQuantity (Eshop.Api)'
2024-09-15 11:44:33.155 +02:00 [INF] Route matched with {action = "DecreaseCartQuantity", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DecreaseCartQuantity(Int32, Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:44:33.186 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-15 11:44:33.187 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.DecreaseCartQuantity (Eshop.Api) in 31.3824ms
2024-09-15 11:44:33.187 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.DecreaseCartQuantity (Eshop.Api)'
2024-09-15 11:44:33.187 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44369/api/Cart/DecreaseCartQuantity/1/2 - 400 null text/plain; charset=utf-8 35.7049ms
2024-09-15 11:45:07.165 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44369/api/Cart/DecreaseCartQuantity/17/13 - application/json 53
2024-09-15 11:45:07.195 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-09-15 11:45:07.195 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-09-15 11:45:07.197 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44369/api/Cart/DecreaseCartQuantity/17/13 - 405 null null 31.9036ms
2024-09-15 11:45:12.056 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44369/api/Cart/DecreaseCartQuantity/17/13 - application/json 53
2024-09-15 11:45:12.056 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.DecreaseCartQuantity (Eshop.Api)'
2024-09-15 11:45:12.056 +02:00 [INF] Route matched with {action = "DecreaseCartQuantity", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DecreaseCartQuantity(Int32, Int32, Eshop.Models.DTOModels.CartPostDTO) on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:45:12.084 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Id_0='?' (DbType = Int32), @__ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[Id] = @__Id_0 AND [c].[ProductId] = @__ProductId_1
2024-09-15 11:45:12.125 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Carts] SET [Count] = @p0, [ProductId] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-09-15 11:45:12.126 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:45:12.126 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.DecreaseCartQuantity (Eshop.Api) in 70.0226ms
2024-09-15 11:45:12.126 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.DecreaseCartQuantity (Eshop.Api)'
2024-09-15 11:45:12.127 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44369/api/Cart/DecreaseCartQuantity/17/13 - 200 null text/plain; charset=utf-8 71.5959ms
2024-09-15 11:45:20.821 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - application/json 53
2024-09-15 11:45:20.821 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:45:20.821 +02:00 [INF] Route matched with {action = "GetUserCarts", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCarts() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:45:20.827 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:45:20.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:45:20.829 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api) in 7.948ms
2024-09-15 11:45:20.829 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.GetUserCarts (Eshop.Api)'
2024-09-15 11:45:20.830 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Carts - 200 217 application/json; charset=utf-8 9.1274ms
2024-09-15 11:45:37.080 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Cart/Summery - application/json 53
2024-09-15 11:45:37.081 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.CartController.Summery (Eshop.Api)'
2024-09-15 11:45:37.083 +02:00 [INF] Route matched with {action = "Summery", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Summery() on controller Eshop.Api.Controllers.CartController (Eshop.Api).
2024-09-15 11:45:37.090 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
2024-09-15 11:45:37.092 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.CartDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:45:37.093 +02:00 [INF] Executed action Eshop.Api.Controllers.CartController.Summery (Eshop.Api) in 9.5826ms
2024-09-15 11:45:37.093 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.CartController.Summery (Eshop.Api)'
2024-09-15 11:45:37.093 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Cart/Summery - 200 217 application/json; charset=utf-8 13.2087ms
2024-09-15 11:46:14.438 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Order/Orders - null null
2024-09-15 11:46:14.477 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.GetOrders (Eshop.Api)'
2024-09-15 11:46:14.495 +02:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders(Eshop.DataAccess.Services.Requests.RequestParameter) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:46:14.567 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-15 11:46:14.613 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[Carrier], [o].[City], [o].[CustomerId], [o].[OrderDate], [o].[PaymentDate], [o].[Status], [o].[TotalPrice], [o].[TrackingNumber], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token], [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM [Orders] AS [o]
INNER JOIN [AspNetUsers] AS [a] ON [o].[CustomerId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id], [a].[Id], [r].[ApplicationUserId], [r].[Id]
2024-09-15 11:46:14.625 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[Carrier], [o].[City], [o].[CustomerId], [o].[OrderDate], [o].[PaymentDate], [o].[Status], [o].[TotalPrice], [o].[TrackingNumber], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token], [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM [Orders] AS [o]
INNER JOIN [AspNetUsers] AS [a] ON [o].[CustomerId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id], [a].[Id], [r].[ApplicationUserId], [r].[Id]
2024-09-15 11:46:34.755 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.GetOrders (Eshop.Api) in 20260.0656ms
2024-09-15 11:46:34.756 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.GetOrders (Eshop.Api)'
2024-09-15 11:46:34.782 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Eshop.Api.Handlers.Get.GetOrdersHandler.Handle(GetOrdersQuery request, CancellationToken cancellationToken) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Handlers\Get\GetOrdersHandler.cs:line 28
   at Eshop.Api.Controllers.OrderController.GetOrders(RequestParameter requestParameter) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Controllers\OrderController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:46:34.791 +02:00 [ERR] Exception occured {Error Happend in this action method
}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Eshop.Api.Handlers.Get.GetOrdersHandler.Handle(GetOrdersQuery request, CancellationToken cancellationToken) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Handlers\Get\GetOrdersHandler.cs:line 28
   at Eshop.Api.Controllers.OrderController.GetOrders(RequestParameter requestParameter) in C:\Users\HP\source\repos\Eshop\Eshop.Api\Controllers\OrderController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-09-15 11:46:34.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/api/Order/Orders - 500 null application/json 20361.1033ms
2024-09-15 11:47:06.205 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - multipart/form-data; boundary=---------------------------171003163517612600514182073700 655
2024-09-15 11:47:06.209 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:47:06.209 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:47:06.218 +02:00 [INF] Route matched with {action = "PlaceOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlaceOrder(Eshop.Models.DTOModels.OrderPostDTO) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:47:06.255 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-15 11:47:06.290 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api) in 71.8455ms
2024-09-15 11:47:06.290 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:47:06.290 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - 400 237 application/problem+json; charset=utf-8 86.2053ms
2024-09-15 11:47:12.810 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - multipart/form-data; boundary=---------------------------1382781996813077912373801036 644
2024-09-15 11:47:12.811 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:47:12.811 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:47:12.811 +02:00 [INF] Route matched with {action = "PlaceOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlaceOrder(Eshop.Models.DTOModels.OrderPostDTO) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:47:12.896 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = @__Id_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 11:47:13.102 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
ORDER BY [c].[Id], [p].[Id], [a].[Id], [r].[ApplicationUserId]
2024-09-15 11:47:13.242 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([Id], [Address], [Carrier], [City], [CustomerId], [OrderDate], [PaymentDate], [Status], [TotalPrice], [TrackingNumber])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-15 11:47:13.304 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'eshop.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dadb075-53b3-430d-8f46-0716c07aa514
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dadb075-53b3-430d-8f46-0716c07aa514
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 11:47:13.482 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-15 11:47:13.483 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api) in 672.303ms
2024-09-15 11:47:13.483 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:47:13.484 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - 400 null text/plain; charset=utf-8 674.2198ms
2024-09-15 11:47:45.357 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - multipart/form-data; boundary=---------------------------20792612597138346924268660809 650
2024-09-15 11:47:45.357 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:47:45.357 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:47:45.357 +02:00 [INF] Route matched with {action = "PlaceOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlaceOrder(Eshop.Models.DTOModels.OrderPostDTO) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:47:45.390 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = @__Id_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 11:47:45.401 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
ORDER BY [c].[Id], [p].[Id], [a].[Id], [r].[ApplicationUserId]
2024-09-15 11:47:45.413 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([Id], [Address], [Carrier], [City], [CustomerId], [OrderDate], [PaymentDate], [Status], [TotalPrice], [TrackingNumber])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-15 11:47:45.439 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'eshop.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dadb075-53b3-430d-8f46-0716c07aa514
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dadb075-53b3-430d-8f46-0716c07aa514
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 11:47:45.520 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-15 11:47:45.521 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api) in 163.2118ms
2024-09-15 11:47:45.521 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:47:45.521 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - 400 null text/plain; charset=utf-8 164.4495ms
2024-09-15 11:48:05.961 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - multipart/form-data; boundary=---------------------------11495463869758870952852341661 650
2024-09-15 11:48:05.990 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:48:05.990 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:48:05.990 +02:00 [INF] Route matched with {action = "PlaceOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlaceOrder(Eshop.Models.DTOModels.OrderPostDTO) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:48:15.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = @__Id_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 11:48:47.095 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
ORDER BY [c].[Id], [p].[Id], [a].[Id], [r].[ApplicationUserId]
2024-09-15 11:49:02.821 +02:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([Id], [Address], [Carrier], [City], [CustomerId], [OrderDate], [PaymentDate], [Status], [TotalPrice], [TrackingNumber])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-15 11:49:02.830 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'eshop.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dadb075-53b3-430d-8f46-0716c07aa514
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dadb075-53b3-430d-8f46-0716c07aa514
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-15 11:49:14.742 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-15 11:49:14.742 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api) in 68752.1337ms
2024-09-15 11:49:14.742 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:49:14.743 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - 400 null text/plain; charset=utf-8 68782.6018ms
2024-09-15 11:49:22.953 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - multipart/form-data; boundary=---------------------------6611819868284837603671495346 644
2024-09-15 11:49:22.954 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:49:22.954 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:49:22.954 +02:00 [INF] Route matched with {action = "PlaceOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlaceOrder(Eshop.Models.DTOModels.OrderPostDTO) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:49:27.772 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = @__Id_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [r].[ApplicationUserId]
2024-09-15 11:49:38.329 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM [Carts] AS [c]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
ORDER BY [c].[Id], [p].[Id], [a].[Id], [r].[ApplicationUserId]
2024-09-15 11:49:44.301 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([Address], [Carrier], [City], [CustomerId], [OrderDate], [PaymentDate], [Status], [TotalPrice], [TrackingNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-09-15 11:50:01.584 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderDetails] ([OrderId], [ProductId], [Quantity], [UnitPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 11:50:12.781 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderDetails] ([OrderId], [ProductId], [Quantity], [UnitPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 11:50:16.302 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:50:16.303 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api) in 53348.4464ms
2024-09-15 11:50:16.303 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.PlaceOrder (Eshop.Api)'
2024-09-15 11:50:18.166 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Order/PlaceOrder - 200 null text/plain; charset=utf-8 55213.0271ms
2024-09-15 11:50:30.162 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44369/api/Order/OrderConfirmation/5 - null 0
2024-09-15 11:50:30.163 +02:00 [INF] CORS policy execution successful.
2024-09-15 11:50:30.163 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.OrderConfirmation (Eshop.Api)'
2024-09-15 11:50:30.169 +02:00 [INF] Route matched with {action = "OrderConfirmation", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OrderConfirmation(Int32) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:50:30.216 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Carrier], [t].[City], [t].[CustomerId], [t].[OrderDate], [t].[PaymentDate], [t].[Status], [t].[TotalPrice], [t].[TrackingNumber], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[Phone], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token]
FROM (
    SELECT TOP(1) [o].[Id], [o].[Address], [o].[Carrier], [o].[City], [o].[CustomerId], [o].[OrderDate], [o].[PaymentDate], [o].[Status], [o].[TotalPrice], [o].[TrackingNumber], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Orders] AS [o]
    INNER JOIN [AspNetUsers] AS [a] ON [o].[CustomerId] = [a].[Id]
    WHERE [o].[Id] = @__id_0
) AS [t]
LEFT JOIN [RefreshToken] AS [r] ON [t].[Id0] = [r].[ApplicationUserId]
ORDER BY [t].[Id], [t].[Id0], [r].[ApplicationUserId]
2024-09-15 11:50:49.211 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__order_ApplicationUser_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Count], [c].[ProductId], [c].[UserId]
FROM [Carts] AS [c]
WHERE [c].[UserId] = @__order_ApplicationUser_Id_0
2024-09-15 11:50:52.728 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Carts]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Carts]
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Orders] SET [Status] = @p2
OUTPUT 1
WHERE [Id] = @p3;
INSERT INTO [Transactions] ([Amount], [CreatedAt], [OrderId], [UpdateAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p4, @p5, @p6, @p7, @p8);
2024-09-15 11:50:54.237 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-15 11:50:54.237 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.OrderConfirmation (Eshop.Api) in 24068.1981ms
2024-09-15 11:50:54.237 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.OrderConfirmation (Eshop.Api)'
2024-09-15 11:50:55.466 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44369/api/Order/OrderConfirmation/5 - 200 null text/plain; charset=utf-8 25304.8935ms
2024-09-15 11:51:10.253 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/api/Order/Orders - null null
2024-09-15 11:51:10.254 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.GetOrders (Eshop.Api)'
2024-09-15 11:51:10.254 +02:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders(Eshop.DataAccess.Services.Requests.RequestParameter) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:51:10.270 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[Carrier], [o].[City], [o].[CustomerId], [o].[OrderDate], [o].[PaymentDate], [o].[Status], [o].[TotalPrice], [o].[TrackingNumber], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token], [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM [Orders] AS [o]
INNER JOIN [AspNetUsers] AS [a] ON [o].[CustomerId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id], [a].[Id], [r].[ApplicationUserId], [r].[Id]
2024-09-15 11:51:10.278 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[Carrier], [o].[City], [o].[CustomerId], [o].[OrderDate], [o].[PaymentDate], [o].[Status], [o].[TotalPrice], [o].[TrackingNumber], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token], [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM [Orders] AS [o]
INNER JOIN [AspNetUsers] AS [a] ON [o].[CustomerId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id], [a].[Id], [r].[ApplicationUserId], [r].[Id]
2024-09-15 11:51:34.150 +02:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 11:51:34.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/index.html - null null
2024-09-15 11:51:34.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger - null null
2024-09-15 11:51:34.529 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 11:51:34.533 +02:00 [INF] Hosting environment: Development
2024-09-15 11:51:34.536 +02:00 [INF] Content root path: C:\Users\HP\source\repos\Eshop\Eshop.Api
2024-09-15 11:51:34.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger - 499 null null 205.3499ms
2024-09-15 11:51:34.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/index.html - 200 null text/html;charset=utf-8 311.8046ms
2024-09-15 11:51:34.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - null null
2024-09-15 11:51:34.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_vs/browserLink - null null
2024-09-15 11:51:34.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 11:51:34.783 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-15 11:51:34.783 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/swagger-ui.css - 499 143943 text/css 16.9546ms
2024-09-15 11:51:34.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 8.3222ms
2024-09-15 11:51:34.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.9271ms
2024-09-15 11:51:34.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - null null
2024-09-15 11:51:34.934 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-15 11:51:34.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/favicon-32x32.png - 499 628 image/png 1.8852ms
2024-09-15 11:51:35.009 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - null null
2024-09-15 11:51:35.205 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44369/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 195.2441ms
2024-09-15 11:51:46.020 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44369/api/Order/Orders - application/json 53
2024-09-15 11:51:46.257 +02:00 [INF] Executing endpoint 'Eshop.Api.Controllers.OrderController.GetOrders (Eshop.Api)'
2024-09-15 11:51:46.309 +02:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrders(Eshop.DataAccess.Services.Requests.RequestParameter) on controller Eshop.Api.Controllers.OrderController (Eshop.Api).
2024-09-15 11:51:48.351 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:51:48.357 +02:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:51:48.363 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:51:48.371 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Transaction'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-09-15 11:51:49.475 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-15 11:51:50.182 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[Carrier], [o].[City], [o].[CustomerId], [o].[OrderDate], [o].[PaymentDate], [o].[Status], [o].[TotalPrice], [o].[TrackingNumber], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token], [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM [Orders] AS [o]
INNER JOIN [AspNetUsers] AS [a] ON [o].[CustomerId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id], [a].[Id], [r].[ApplicationUserId], [r].[Id]
2024-09-15 11:51:50.256 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[Carrier], [o].[City], [o].[CustomerId], [o].[OrderDate], [o].[PaymentDate], [o].[Status], [o].[TotalPrice], [o].[TrackingNumber], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedAt], [r].[ExpireOn], [r].[RevokedOn], [r].[Token], [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM [Orders] AS [o]
INNER JOIN [AspNetUsers] AS [a] ON [o].[CustomerId] = [a].[Id]
LEFT JOIN [RefreshToken] AS [r] ON [a].[Id] = [r].[ApplicationUserId]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id], [a].[Id], [r].[ApplicationUserId], [r].[Id]
2024-09-15 11:51:50.298 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Eshop.Models.DTOModels.OrderDTO, Eshop.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 11:51:50.506 +02:00 [INF] Executed action Eshop.Api.Controllers.OrderController.GetOrders (Eshop.Api) in 4188.6095ms
2024-09-15 11:51:50.506 +02:00 [INF] Executed endpoint 'Eshop.Api.Controllers.OrderController.GetOrders (Eshop.Api)'
2024-09-15 11:51:50.521 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44369/api/Order/Orders - 200 209 application/json; charset=utf-8 4501.0308ms
